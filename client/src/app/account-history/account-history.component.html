<mat-card style="background-color: #199fff; color:white;">Renting History</mat-card>
<div *ngIf="bookedCars" class="booked-cars-container">
  <mat-card>
    <table>
        <tr>
          <th>CAR</th>
          <th>FROM</th>
          <th>TO</th>
          <th>STATUS</th>
          <th>PAID</th>
        </tr>
        <tr *ngFor="let bookedCar of bookedCars">
          <a (click)="displayCarModal(bookedCar.car)"><td><u>{{bookedCar.car.type.brand}} {{bookedCar.car.type.model}}</u></td></a>
          <td>{{bookedCar.startDate.split('T')[0]}}</td>
          <td>{{bookedCar.endDate.split('T')[0]}}</td>
          <td>{{bookedCar.status}}</td>
          <td>${{bookedCar.cost}}</td>
        </tr>
      </table>
  </mat-card>
</div>

<br>
<mat-card style="background-color: #199fff; color:white;">Added Cars</mat-card>
<div *ngIf="addedCars" class="added-cars-container">
  <mat-card>
    <table>
      <tr>
        <th>CAR</th>
        <th>SUBURB</th>
        <th>STREET</th>
        <th>RATE</th>
        <th>FROM</th>
        <th>TO</th>
        <th>STATUS</th>
        <th>BOOKINGS</th>
      </tr>
      <tr *ngFor="let addedCar of addedCars">
        <a (click)="displayCarModal(addedCar)"><td><u>{{addedCar.type.brand}} {{addedCar.type.model}}</u></td></a>
        <td>{{addedCar.location.suburb}}</td>
        <td>{{addedCar.location.street}}</td>
        <td>${{addedCar.rate}} p/day</td>
        <td>{{addedCar.startDate.split('T')[0]}}</td>
        <td>{{addedCar.endDate.split('T')[0]}}</td>
        <td>{{addedCar.status}}</td>
        <td><button class="btn btn-primary" (click)="displayBookingModal(addedCar)">View</button></td>
      </tr>
    </table>
  </mat-card>
</div>

<div #carModal id="carModal" class="modal">
  <div *ngIf="selectedCar" class="modal-content">
    <span class="close" (click)="closeCarModal()">&times;</span>
    <mat-card>
      <table>
          <tr>
            <th>BRAND</th>
            <th>MODEL</th>
            <th>YEAR</th>
            <th>DOORS</th>
            <th>TRANSMISSION</th>
            <th>OWNER</th>
          </tr>
          <tr>
            <td>{{selectedCar.type.brand}}</td>
            <td>{{selectedCar.type.model}}</td>
            <td>{{selectedCar.type.year}}</td>
            <td>{{selectedCar.type.doors}}</td>
            <td>{{selectedCar.type.transmission}}</td>
            <td>{{selectedCar.user.username}}</td>
          </tr>
        </table>
    </mat-card>
  </div>
</div>

<div #bookingModal id="bookingModal" class="modal">
  <div *ngIf="bookingInfo" class="modal-content">
    <span class="close" (click)="closeBookingModal()">&times;</span>
    <mat-card>
      <table>
          <tr>
            <th>USER</th>
            <th>FROM</th>
            <th>TO</th>
            <th>PAID</th>
            <th>STATUS</th>
          </tr>
          <tr *ngFor="let info of bookingInfo">
            <td>{{info.user.username}}</td>
            <td>{{info.startDate.split('T')[0]}}</td>
            <td>{{info.endDate.split('T')[0]}}</td>
            <td>${{info.cost}}</td>
            <td>{{info.status}}</td>
          </tr>
          <tr>
            <td>TOTAL</td>
            <td></td>
            <td></td>
            <td>${{bookingTotal}}</td>
            <td></td>
          </tr>
        </table>
    </mat-card>
  </div>
</div>
